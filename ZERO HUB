-- ZEIRO HUB - Menú Mejorado y Corregido
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

-- Crear interfaz principal
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UIGradient = Instance.new("UIGradient")
local Title = Instance.new("TextLabel")
local TabsFrame = Instance.new("Frame")
local ContentFrame = Instance.new("Frame")

-- Configurar ScreenGui
ScreenGui.Name = "ZEIRO_HUB"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- Configurar MainFrame
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
MainFrame.Size = UDim2.new(0, 500, 0, 350)
MainFrame.Active = true
MainFrame.Draggable = true

-- Gradiente para el diseño
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0.00, Color3.fromRGB(30, 30, 45)),
    ColorSequenceKeypoint.new(1.00, Color3.fromRGB(20, 20, 30))
}
UIGradient.Parent = MainFrame

-- Título
Title.Name = "Title"
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "ZEIRO HUB v2.1"
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.TextSize = 18.000

-- Marco para pestañas
TabsFrame.Name = "TabsFrame"
TabsFrame.Parent = MainFrame
TabsFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
TabsFrame.BorderSizePixel = 0
TabsFrame.Position = UDim2.new(0, 0, 0, 30)
TabsFrame.Size = UDim2.new(0, 120, 1, -30)

-- Marco para contenido
ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
ContentFrame.BorderSizePixel = 0
ContentFrame.Position = UDim2.new(0, 120, 0, 30)
ContentFrame.Size = UDim2.new(1, -120, 1, -30)

-- Función para crear botones
local function CreateButton(text, position)
    local Button = Instance.new("TextButton")
    Button.Name = text.."Button"
    Button.Parent = ContentFrame
    Button.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    Button.BorderSizePixel = 0
    Button.Position = position
    Button.Size = UDim2.new(0, 160, 0, 30)
    Button.Font = Enum.Font.Gotham
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 14.000
    
    -- Efectos del botón
    Button.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(Button, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(55, 55, 65)
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(Button, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(45, 45, 55)
        }):Play()
    end)
    
    return Button
end

-- Función para crear toggles
local function CreateToggle(text, position)
    local ToggleFrame = Instance.new("Frame")
    local ToggleButton = Instance.new("TextButton")
    local ToggleStatus = Instance.new("TextLabel")
    
    ToggleFrame.Name = text.."Toggle"
    ToggleFrame.Parent = ContentFrame
    ToggleFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    ToggleFrame.BorderSizePixel = 0
    ToggleFrame.Position = position
    ToggleFrame.Size = UDim2.new(0, 160, 0, 30)
    
    ToggleButton.Name = "Button"
    ToggleButton.Parent = ToggleFrame
    ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Position = UDim2.new(0, 5, 0, 5)
    ToggleButton.Size = UDim2.new(0, 40, 0, 20)
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.Text = "OFF"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 12.000
    
    ToggleStatus.Name = "Status"
    ToggleStatus.Parent = ToggleFrame
    ToggleStatus.BackgroundTransparency = 1
    ToggleStatus.Position = UDim2.new(0, 50, 0, 0)
    ToggleStatus.Size = UDim2.new(1, -55, 1, 0)
    ToggleStatus.Font = Enum.Font.Gotham
    ToggleStatus.Text = text
    ToggleStatus.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleStatus.TextSize = 14.000
    ToggleStatus.TextXAlignment = Enum.TextXAlignment.Left
    
    local isToggled = false
    
    ToggleButton.MouseButton1Click:Connect(function()
        isToggled = not isToggled
        if isToggled then
            ToggleButton.Text = "ON"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(80, 255, 80)
            if text == "Auto Farm" then
                getgenv().AutoFarmEnabled = true
                StartAutoFarm()
            elseif text == "Auto Buso" then
                getgenv().AutoBusoEnabled = true
                AutoBuso()
            end
        else
            ToggleButton.Text = "OFF"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
            if text == "Auto Farm" then
                getgenv().AutoFarmEnabled = false
            elseif text == "Auto Buso" then
                getgenv().AutoBusoEnabled = false
            end
        end
    end)
    
    return ToggleFrame
end

-- Crear tabs
local function CreateTab(text)
    local TabButton = Instance.new("TextButton")
    TabButton.Name = text.."Tab"
    TabButton.Parent = TabsFrame
    TabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    TabButton.BorderSizePixel = 0
    TabButton.Size = UDim2.new(1, 0, 0, 30)
    TabButton.Font = Enum.Font.GothamBold
    TabButton.Text = text
    TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.TextSize = 14.000
    
    local ContentPage = Instance.new("Frame")
    ContentPage.Name = text.."Page"
    ContentPage.Parent = ContentFrame
    ContentPage.BackgroundTransparency = 1
    ContentPage.Size = UDim2.new(1, 0, 1, 0)
    ContentPage.Visible = false
    
    return TabButton, ContentPage
end

-- Crear los tabs principales
local FarmingTab, FarmingPage = CreateTab("Farming")
local TeleportsTab, TeleportsPage = CreateTab("Teleports")
local PlayerTab, PlayerPage = CreateTab("Player")
local SettingsTab, SettingsPage = CreateTab("Settings")

-- Posicionar los tabs
FarmingTab.Position = UDim2.new(0, 0, 0, 0)
TeleportsTab.Position = UDim2.new(0, 0, 0, 30)
PlayerTab.Position = UDim2.new(0, 0, 0, 60)
SettingsTab.Position = UDim2.new(0, 0, 0, 90)

-- Mostrar la página de Farming por defecto
FarmingPage.Visible = true

-- Crear contenido para Farming
local AutoFarmToggle = CreateToggle("Auto Farm", UDim2.new(0, 10, 0, 10))
local AutoBusoToggle = CreateToggle("Auto Buso", UDim2.new(0, 10, 0, 50))
AutoFarmToggle.Parent = FarmingPage
AutoBusoToggle.Parent = FarmingPage

-- Crear contenido para Player
local WalkspeedButton = CreateButton("Walkspeed +50", UDim2.new(0, 10, 0, 10))
local JumpPowerButton = CreateButton("JumpPower +100", UDim2.new(0, 10, 0, 50))
WalkspeedButton.Parent = PlayerPage
JumpPowerButton.Parent = PlayerPage

-- Sistema de cambio de tabs
local function SwitchTab(tabButton, page)
    tabButton.MouseButton1Click:Connect(function()
        for _, v in pairs(ContentFrame:GetChildren()) do
            if v:IsA("Frame") and v.Name:find("Page") then
                v.Visible = false
            end
        end
        page.Visible = true
        
        for _, v in pairs(TabsFrame:GetChildren()) do
            if v:IsA("TextButton") then
                v.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
            end
        end
        tabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
    end)
end

SwitchTab(FarmingTab, FarmingPage)
SwitchTab(TeleportsTab, TeleportsPage)
SwitchTab(PlayerTab, PlayerPage)
SwitchTab(SettingsTab, SettingsPage)

-- Funcionalidad de los botones
WalkspeedButton.MouseButton1Click:Connect(function()
    if Player.Character and Player.Character:FindFirstChild("Humanoid") then
        Player.Character.Humanoid.WalkSpeed = 50
    end
end)

JumpPowerButton.MouseButton1Click:Connect(function()
    if Player.Character and Player.Character:FindFirstChild("Humanoid") then
        Player.Character.Humanoid.JumpPower = 100
    end
end)

-- Tecla para mostrar/ocultar el menú (RightControl)
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.RightControl then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

-- Notificación de inicio
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ZEIRO HUB",
    Text = "Menú cargado! Presiona RightControl",
    Duration = 5
})
