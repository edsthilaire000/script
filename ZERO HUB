-- Script para Steal a Brainrot por Grok (Nov 2025) - Fly, Speed, Noclip, TP, Auto-Steal
-- Compatible con PC/Móvil

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- Variables
local flying = false
local speedEnabled = false
local noclipping = false
local autoSteal = false
local flySpeed = 50
local walkSpeed = 16

-- Fly Function
local function toggleFly()
    flying = not flying
    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(4000, 4000, 4000)
    bv.Velocity = Vector3.new(0, 0, 0)
    bv.Parent = RootPart

    local bg = Instance.new("BodyGyro")
    bg.MaxTorque = Vector3.new(4000, 4000, 4000)
    bg.CFrame = RootPart.CFrame
    bg.Parent = RootPart

    spawn(function()
        while flying do
            if RootPart.Parent then
                local cam = workspace.CurrentCamera
                local moveVector = Vector3.new(0, 0, 0)
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVector = moveVector + cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVector = moveVector - cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVector = moveVector - cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVector = moveVector + cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVector = moveVector + Vector3.new(0, 1, 0) end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then moveVector = moveVector - Vector3.new(0, 1, 0) end
                bv.Velocity = moveVector * flySpeed
                bg.CFrame = cam.CFrame
            end
            wait()
        end
        if bv then bv:Destroy() end
        if bg then bg:Destroy() end
    end)
end

-- Speed Function
local function toggleSpeed()
    speedEnabled = not speedEnabled
    Humanoid.WalkSpeed = speedEnabled and 100 or walkSpeed
end

-- Noclip Function
local function toggleNoclip()
    noclipping = not noclipping
end

RunService.Stepped:Connect(function()
    if noclipping and Character then
        for _, part in pairs(Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Teleport to Mouse
local function tpToMouse()
    local mouse = Player:GetMouse()
    if mouse.Hit then
        RootPart.CFrame = mouse.Hit.p + Vector3.new(0, 5, 0)
    end
end

-- TP to Nearest Player
local function tpToNearest()
    local nearestDist = math.huge
    local nearestPlayer = nil
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= Player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            local dist = (RootPart.Position - p.Character.HumanoidRootPart.Position).Magnitude
            if dist < nearestDist then
                nearestDist = dist
                nearestPlayer = p
            end
        end
    end
    if nearestPlayer then
        RootPart.CFrame = nearestPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 5, 0)
    end
end

-- Auto-Steal (Busca brainrots en bases de otros y TP)
spawn(function()
    while true do
        if autoSteal then
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj.Name:lower():find("brainrot") and obj.Parent and obj.Parent.Name ~= Player.Name then
                    RootPart.CFrame = obj.CFrame
                    wait(0.1)
                    break
                end
            end
        end
        wait(0.5)
    end
end)

local function toggleAutoSteal()
    autoSteal = not autoSteal
end

-- Input Handling
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.E then toggleFly() end
    if input.KeyCode == Enum.KeyCode.Q then toggleSpeed() end
    if input.KeyCode == Enum.KeyCode.X then toggleNoclip() end
    if input.KeyCode == Enum.KeyCode.F then tpToMouse() end
    if input.KeyCode == Enum.KeyCode.G then tpToNearest() end
    if input.KeyCode == Enum.KeyCode.H then toggleAutoSteal() end
end)

-- ESP para Brainrots (resalta brainrots)
for _, obj in pairs(workspace:GetDescendants()) do
    if obj.Name:lower():find("brainrot") then
        local highlight = Instance.new("Highlight")
        highlight.Parent = obj
        highlight.FillColor = Color3.new(1, 0, 0)
        highlight.OutlineColor = Color3.new(1, 1, 0)
    end
end

workspace.DescendantAdded:Connect(function(obj)
    if obj.Name:lower():find("brainrot") then
        local highlight = Instance.new("Highlight")
        highlight.Parent = obj
        highlight.FillColor = Color3.new(1, 0, 0)
        highlight.OutlineColor = Color3.new(1, 1, 0)
    end
end)

print("¡Script cargado! Presiona E=Fly, Q=Speed, X=Noclip, F=TP Mouse, G=TP Jugador, H=Auto-Steal")
